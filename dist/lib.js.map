{"version":3,"file":"lib.js","sources":["../src/index.ts"],"sourcesContent":["import { VNodeData } from \"vue\";\n\n/**\n * Intelligently merges data for createElement.\n * Merges arguments left to right, preferring the right argument.\n * Returns new VNodeData object.\n */\nfunction mergeData(...vNodeData: VNodeData[]): VNodeData;\nfunction mergeData(): VNodeData {\n  let mergeTarget: VNodeData & { [key: string]: any } = {},\n    i: number = arguments.length,\n    prop: string,\n    event: string;\n\n  // Allow for variadic argument length.\n  while (i--) {\n    // Iterate through the data properties and execute merge strategies\n    // Object.keys eliminates need for hasOwnProperty call\n    for (prop of Object.keys(arguments[i])) {\n      switch (prop) {\n        // Array merge strategy (array concatenation)\n        case \"class\":\n        case \"style\":\n        case \"directives\":\n          if (!Array.isArray(mergeTarget[prop])) {\n            mergeTarget[prop] = [];\n          }\n          // Repackaging in an array allows Vue runtime\n          // to merge class/style bindings regardless of type.\n          mergeTarget[prop] = mergeTarget[prop].concat(arguments[i][prop]);\n          break;\n        // Space delimited string concatenation strategy\n        case \"staticClass\":\n          if (!arguments[i][prop]) {\n            break;\n          }\n          if (mergeTarget[prop] === undefined) {\n            mergeTarget[prop] = \"\";\n          }\n          if (mergeTarget[prop]) {\n            // Not an empty string, so concatenate\n            mergeTarget[prop] += \" \";\n          }\n          mergeTarget[prop] += arguments[i][prop].trim();\n          break;\n        // Object, the properties of which to merge via array merge strategy (array concatenation).\n        // Callback merge strategy merges callbacks to the beginning of the array,\n        // so that the last defined callback will be invoked first.\n        // This is done since to mimic how Object.assign merging\n        // uses the last given value to assign.\n        case \"on\":\n        case \"nativeOn\":\n          if (!mergeTarget[prop]) {\n            mergeTarget[prop] = {};\n          }\n          for (event of Object.keys(arguments[i][prop] || {})) {\n            // Concat function to array of functions if callback present.\n            if (mergeTarget[prop][event]) {\n              // Insert current iteration data in beginning of merged array.\n              mergeTarget[prop][event] = [].concat(\n                mergeTarget[prop][event],\n                arguments[i][prop][event]\n              );\n            } else {\n              // Straight assign.\n              mergeTarget[prop][event] = arguments[i][prop][event];\n            }\n          }\n          break;\n        // Object merge strategy\n        case \"attrs\":\n        case \"props\":\n        case \"domProps\":\n        case \"scopedSlots\":\n        case \"staticStyle\":\n        case \"hook\":\n        case \"transition\":\n          if (!mergeTarget[prop]) {\n            mergeTarget[prop] = {};\n          }\n          mergeTarget[prop] = { ...arguments[i][prop], ...mergeTarget[prop] };\n          break;\n        // Reassignment strategy (no merge)\n        case \"slot\":\n        case \"key\":\n        case \"ref\":\n        case \"tag\":\n        case \"show\":\n        case \"keepAlive\":\n        default:\n          if (!mergeTarget[prop]) {\n            mergeTarget[prop] = arguments[i][prop];\n          }\n      }\n    }\n  }\n\n  return mergeTarget;\n}\n\nexport { mergeData };\n"],"names":["prop","event","mergeTarget","i","arguments","length","_a","Object","keys","_i","Array","isArray","concat","undefined","trim","_c","_b"],"mappings":"iOAQA,WAOE,IANA,IAEEA,EACAC,EAHEC,KACFC,EAAYC,UAAUC,OAKjBF,KAGL,IAAa,QAAAG,EAAAC,OAAOC,KAAKJ,UAAUD,IAAtBM,WAAAA,IACX,OADGT,QAGD,IAAK,QACL,IAAK,QACL,IAAK,aACEU,MAAMC,QAAQT,EAAYF,MAC7BE,EAAYF,OAIdE,EAAYF,GAAQE,EAAYF,GAAMY,OAAOR,UAAUD,GAAGH,IAC1D,MAEF,IAAK,cACH,IAAKI,UAAUD,GAAGH,GAChB,WAEwBa,IAAtBX,EAAYF,KACdE,EAAYF,GAAQ,IAElBE,EAAYF,KAEdE,EAAYF,IAAS,KAEvBE,EAAYF,IAASI,UAAUD,GAAGH,GAAMc,OACxC,MAMF,IAAK,KACL,IAAK,WACEZ,EAAYF,KACfE,EAAYF,OAEd,IAAc,QAAAe,EAAAR,OAAOC,KAAKJ,UAAUD,GAAGH,QAAzBgB,WAAAA,IAATf,OAECC,EAAYF,GAAMC,GAEpBC,EAAYF,GAAMC,MAAYW,OAC5BV,EAAYF,GAAMC,GAClBG,UAAUD,GAAGH,GAAMC,IAIrBC,EAAYF,GAAMC,GAASG,UAAUD,GAAGH,GAAMC,GAGlD,MAEF,IAAK,QACL,IAAK,QACL,IAAK,WACL,IAAK,cACL,IAAK,cACL,IAAK,OACL,IAAK,aACEC,EAAYF,KACfE,EAAYF,OAEdE,EAAYF,QAAaI,UAAUD,GAAGH,GAAUE,EAAYF,IAC5D,MAEF,IAAK,OACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,OACL,IAAK,YACL,QACOE,EAAYF,KACfE,EAAYF,GAAQI,UAAUD,GAAGH,IAM3C,OAAOE"}
{"version":3,"file":"lib.esm.js","sources":["../src/index.ts"],"sourcesContent":["import { VNodeData } from \"vue\"\n\n/**\n * Intelligently merges data for createElement.\n * Merges arguments left to right, preferring the right argument.\n * Returns new VNodeData object.\n */\nfunction mergeData(...vNodeData: VNodeData[]): VNodeData\nfunction mergeData(): VNodeData {\n\tlet mergeTarget: VNodeData & { [key: string]: any } = {},\n\t\ti: number = arguments.length,\n\t\tprop: string,\n\t\tevent: string\n\n\t// Allow for variadic argument length.\n\twhile (i--) {\n\t\t// Iterate through the data properties and execute merge strategies\n\t\t// Object.keys eliminates need for hasOwnProperty call\n\t\tfor (prop of Object.keys(arguments[i])) {\n\t\t\tswitch (prop) {\n\t\t\t\t// Array merge strategy (array concatenation)\n\t\t\t\tcase \"class\":\n\t\t\t\tcase \"style\":\n\t\t\t\tcase \"directives\":\n\t\t\t\t\tif (!Array.isArray(mergeTarget[prop])) {\n\t\t\t\t\t\tmergeTarget[prop] = []\n\t\t\t\t\t}\n\t\t\t\t\t// Repackaging in an array allows Vue runtime\n\t\t\t\t\t// to merge class/style bindings regardless of type.\n\t\t\t\t\tmergeTarget[prop] = mergeTarget[prop].concat(arguments[i][prop])\n\t\t\t\t\tbreak\n\t\t\t\t// Space delimited string concatenation strategy\n\t\t\t\tcase \"staticClass\":\n\t\t\t\t\tif (!arguments[i][prop]) {\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\tif (mergeTarget[prop] === undefined) {\n\t\t\t\t\t\tmergeTarget[prop] = \"\"\n\t\t\t\t\t}\n\t\t\t\t\tif (mergeTarget[prop]) {\n\t\t\t\t\t\t// Not an empty string, so concatenate\n\t\t\t\t\t\tmergeTarget[prop] += \" \"\n\t\t\t\t\t}\n\t\t\t\t\tmergeTarget[prop] += arguments[i][prop].trim()\n\t\t\t\t\tbreak\n\t\t\t\t// Object, the properties of which to merge via array merge strategy (array concatenation).\n\t\t\t\t// Callback merge strategy merges callbacks to the beginning of the array,\n\t\t\t\t// so that the last defined callback will be invoked first.\n\t\t\t\t// This is done since to mimic how Object.assign merging\n\t\t\t\t// uses the last given value to assign.\n\t\t\t\tcase \"on\":\n\t\t\t\tcase \"nativeOn\":\n\t\t\t\t\tif (!mergeTarget[prop]) {\n\t\t\t\t\t\tmergeTarget[prop] = {}\n\t\t\t\t\t}\n\t\t\t\t\tfor (event of Object.keys(arguments[i][prop])) {\n\t\t\t\t\t\t// Concat function to array of functions if callback present.\n\t\t\t\t\t\tif (mergeTarget[prop][event]) {\n\t\t\t\t\t\t\t// Insert current iteration data in beginning of merged array.\n\t\t\t\t\t\t\tmergeTarget[prop][event] = [].concat(mergeTarget[prop][event], arguments[i][prop][event])\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Straight assign.\n\t\t\t\t\t\t\tmergeTarget[prop][event] = arguments[i][prop][event]\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t\t// Object merge strategy\n\t\t\t\tcase \"attrs\":\n\t\t\t\tcase \"props\":\n\t\t\t\tcase \"domProps\":\n\t\t\t\tcase \"scopedSlots\":\n\t\t\t\tcase \"staticStyle\":\n\t\t\t\tcase \"hook\":\n\t\t\t\tcase \"transition\":\n\t\t\t\t\tif (!mergeTarget[prop]) {\n\t\t\t\t\t\tmergeTarget[prop] = {}\n\t\t\t\t\t}\n\t\t\t\t\tmergeTarget[prop] = { ...arguments[i][prop], ...mergeTarget[prop] }\n\t\t\t\t\tbreak\n\t\t\t\t// Reassignment strategy (no merge)\n\t\t\t\tcase \"slot\":\n\t\t\t\tcase \"key\":\n\t\t\t\tcase \"ref\":\n\t\t\t\tcase \"tag\":\n\t\t\t\tcase \"show\":\n\t\t\t\tcase \"keepAlive\":\n\t\t\t\tdefault:\n\t\t\t\t\tif (!mergeTarget[prop]) {\n\t\t\t\t\t\tmergeTarget[prop] = arguments[i][prop]\n\t\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn mergeTarget\n}\n\nexport { mergeData }\n"],"names":["prop","event","mergeTarget","i","arguments","length","_a","Object","keys","_i","Array","isArray","concat","undefined","trim","_c","_b"],"mappings":"AAQA,qBAOC,IANA,IAECA,EACAC,EAHGC,KACHC,EAAYC,UAAUC,OAKhBF,KAGN,IAAa,QAAAG,EAAAC,OAAOC,KAAKJ,UAAUD,IAAtBM,WAAAA,IACZ,OADIT,QAGH,IAAK,QACL,IAAK,QACL,IAAK,aACCU,MAAMC,QAAQT,EAAYF,MAC9BE,EAAYF,OAIbE,EAAYF,GAAQE,EAAYF,GAAMY,OAAOR,UAAUD,GAAGH,IAC1D,MAED,IAAK,cACJ,IAAKI,UAAUD,GAAGH,GACjB,WAEyBa,IAAtBX,EAAYF,KACfE,EAAYF,GAAQ,IAEjBE,EAAYF,KAEfE,EAAYF,IAAS,KAEtBE,EAAYF,IAASI,UAAUD,GAAGH,GAAMc,OACxC,MAMD,IAAK,KACL,IAAK,WACCZ,EAAYF,KAChBE,EAAYF,OAEb,IAAc,QAAAe,EAAAR,OAAOC,KAAKJ,UAAUD,GAAGH,IAAzBgB,WAAAA,IAATf,OAEAC,EAAYF,GAAMC,GAErBC,EAAYF,GAAMC,MAAYW,OAAOV,EAAYF,GAAMC,GAAQG,UAAUD,GAAGH,GAAMC,IAGlFC,EAAYF,GAAMC,GAASG,UAAUD,GAAGH,GAAMC,GAGhD,MAED,IAAK,QACL,IAAK,QACL,IAAK,WACL,IAAK,cACL,IAAK,cACL,IAAK,OACL,IAAK,aACCC,EAAYF,KAChBE,EAAYF,OAEbE,EAAYF,eAAaI,UAAUD,GAAGH,GAAUE,EAAYF,IAC5D,MAED,IAAK,OACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,OACL,IAAK,YACL,QACME,EAAYF,KAChBE,EAAYF,GAAQI,UAAUD,GAAGH,IAMtC,OAAOE"}
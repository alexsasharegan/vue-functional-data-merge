{"version":3,"file":"lib.esm.js","sources":["../src/index.ts"],"sourcesContent":["import { VNodeData } from \"vue\"\n\nconst keys = Object.keys\n\nfunction concat(...items: any[]): any[]\nfunction concat(...items: any[][]): any[]\nfunction concat() {\n  return Array.prototype.concat.apply([], arguments)\n}\n\n/**\n * Intelligently merges data for createElement.\n * Merges arguments left to right, preferring the right argument.\n * Returns new VNodeData object.\n */\nfunction mergeData(...vNodeData: VNodeData[]): VNodeData\nfunction mergeData() {\n  // Start by copying the first arg into a fresh object\n  let mergeTarget = { ...arguments[0] }\n\n  // Allow for variadic argument length.\n  // Skip first argument that was assigned to mergeTarget.\n  for (let i = 1; i < arguments.length; i++) {\n    // Iterate through the data properties and execute merge strategies\n    // Object.keys eliminates need for hasOwnProperty call\n    for (const prop of keys(arguments[i])) {\n      // If strictly undefined, simply assign value and continue\n      if (mergeTarget[prop] === undefined) {\n        mergeTarget[prop] = arguments[i][prop]\n        continue\n      }\n\n      switch (prop) {\n        // Array merge strategy (array concatenation)\n        case \"class\":\n        case \"style\":\n        case \"directives\":\n          // Repackaging in an array allows Vue runtime\n          // to merge class/style bindings regardless of type.\n          mergeTarget[prop] = concat(mergeTarget[prop], arguments[i][prop])\n          break\n\n        // Space delimited string concatenation strategy\n        case \"staticClass\":\n          // If we get here,\n          // value !== undefined,\n          // but it could still be an empty string.\n          if (mergeTarget[prop]) {\n            // Not an empty string, so concatenate\n            mergeTarget[prop] = mergeTarget[prop].trim() + \" \"\n          }\n          mergeTarget[prop] += arguments[i][prop].trim()\n          break\n\n        // Object, the properties of which to merge via array merge strategy (array concatenation).\n        // Callback merge strategy merges callbacks to the beginning of the array,\n        // so that the last defined callback will be invoked first.\n        // This is done since to mimic how Object.assign merging\n        // uses the last given value to assign.\n        case \"on\":\n        case \"nativeOn\":\n          // If we get here,\n          // value must be of type Object.\n          for (const event of keys(arguments[i][prop])) {\n            // Concat function to array of functions if callback present.\n            if (mergeTarget[prop][event]) {\n              // Insert current iteration data in beginning of merged array.\n              mergeTarget[prop][event] = concat(arguments[i][prop][event], mergeTarget[prop][event])\n            } else {\n              // Straight assign.\n              mergeTarget[prop][event] = arguments[i][prop][event]\n            }\n          }\n          break\n\n        // Object merge strategy\n        case \"attrs\":\n        case \"props\":\n        case \"domProps\":\n        case \"scopedSlots\":\n        case \"staticStyle\":\n        case \"hook\":\n        case \"transition\":\n          mergeTarget[prop] = { ...mergeTarget[prop], ...arguments[i][prop] }\n          break\n\n        // Reassignment strategy (no merge)\n        case \"slot\":\n        case \"key\":\n        case \"ref\":\n        case \"tag\":\n        case \"show\":\n        case \"keepAlive\":\n        default:\n          mergeTarget[prop] = arguments[i][prop]\n      }\n    }\n  }\n\n  return mergeTarget\n}\n\nexport default mergeData\n"],"names":["Array","prototype","concat","apply","arguments","mergeTarget","i","length","_a","keys","_i","prop","undefined","trim","_c","_b","event_1","Object"],"mappings":"AAMA,kBACE,OAAOA,MAAMC,UAAUC,OAAOC,SAAUC,WAS1C,qBAME,IAAK,IAJDC,cAAmBD,UAAU,IAIxBE,EAAI,EAAGA,EAAIF,UAAUG,OAAQD,IAGpC,IAAmB,QAAAE,EAAAC,KAAKL,UAAUE,IAAfI,WAAAA,KAAd,IAAMC,OAET,QAA0BC,IAAtBP,EAAYM,GAKhB,OAAQA,GAEN,IAAK,QACL,IAAK,QACL,IAAK,aAGHN,EAAYM,GAAQT,OAAOG,EAAYM,GAAOP,UAAUE,GAAGK,IAC3D,MAGF,IAAK,cAICN,EAAYM,KAEdN,EAAYM,GAAQN,EAAYM,GAAME,OAAS,KAEjDR,EAAYM,IAASP,UAAUE,GAAGK,GAAME,OACxC,MAOF,IAAK,KACL,IAAK,WAGH,IAAoB,QAAAC,EAAAL,KAAKL,UAAUE,GAAGK,IAAlBI,WAAAA,KAAf,IAAMC,OAELX,EAAYM,GAAMK,GAEpBX,EAAYM,GAAMK,GAASd,OAAOE,UAAUE,GAAGK,GAAMK,GAAQX,EAAYM,GAAMK,IAG/EX,EAAYM,GAAMK,GAASZ,UAAUE,GAAGK,GAAMK,GAGlD,MAGF,IAAK,QACL,IAAK,QACL,IAAK,WACL,IAAK,cACL,IAAK,cACL,IAAK,OACL,IAAK,aACHX,EAAYM,eAAaN,EAAYM,GAAUP,UAAUE,GAAGK,IAC5D,MAGF,IAAK,OACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,OACL,IAAK,YACL,QACEN,EAAYM,GAAQP,UAAUE,GAAGK,QAlEnCN,EAAYM,GAAQP,UAAUE,GAAGK,GAuEvC,OAAON,mLAjGHI,KAAOQ,OAAOR"}